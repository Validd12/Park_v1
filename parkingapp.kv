# parkingapp.kv

ScreenManager:
    MainPage:
    InfoPage:
    ParkingOptionsPage:
    ParkingDetailPage1:
    ParkingDetailPage2:
    ParkingDetailPage3:
    RegistrationPage:
    LoginPage:
    Profile:

<MainPage>:
    name: "main_page"
    
    # Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.9, 0.95, 1, 1
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.85, 0.92, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.8, 0.9, 1, 0.6
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.75, 0.85, 1, 0.4
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.7, 0.8, 1, 0.2
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2

    BoxLayout:
        orientation: 'vertical'
        padding: [10, 20]
        spacing: 10

        # Banner Image with Rounded Corners
        AnchorLayout:
            size_hint_y: 0.3
            padding: [0, 0, 0, 10]

            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]

            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    texture: self.children[0].texture if self.children else None
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]

            Image:
                source: "banner.jpg"
                allow_stretch: True
                keep_ratio: False
                opacity: 0

        # Main Button Container
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.7
            padding: [0, 10]
            spacing: 10

            Button:
                text: "Find Parking"
                font_size: '22sp'
                color: 0, 0, 0, 1
                background_normal: ''
                background_color: 0, 0, 0, 0
                size_hint_y: 1
                pos_hint: {"center_x": 0.5}
                on_press: app.find_parking()
                
                canvas.before:
                    Color:
                        rgba: 0.2, 0.6, 0.9, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]

            Button:
                text: "Register/Login"
                font_size: '22sp'
                color: 0, 0, 0, 1
                background_normal: ''
                background_color: 0, 0, 0, 0
                size_hint_y: 1
                pos_hint: {"center_x": 0.5}
                on_press: app.register_redirect()
                
                canvas.before:
                    Color:
                        rgba: 0.15, 0.5, 0.8, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]

            Button:
                text: "Help/Info"
                font_size: '22sp'
                color: 0, 0, 0, 1
                background_normal: ''
                background_color: 0, 0, 0, 0
                size_hint_y: 1
                pos_hint: {"center_x": 0.5}
                on_press: app.show_info()
                
                canvas.before:
                    Color:
                        rgba: 0.1, 0.4, 0.7, 1
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]

<InfoPage>:
    name: "info_page"

    # Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.9, 0.95, 1, 1
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.85, 0.92, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.8, 0.9, 1, 0.6
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.75, 0.85, 1, 0.4
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.7, 0.8, 1, 0.2
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2

    BoxLayout:
        orientation: 'vertical'
        padding: [10, 20]
        spacing: 10

        AnchorLayout:
            size_hint_y: 0.3
            padding: [0, 0, 0, 10]

            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]

            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    texture: self.children[0].texture if self.children else None
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]

            Image:
                source: "banner.jpg"
                allow_stretch: True
                keep_ratio: False
                opacity: 0

        BoxLayout:
            orientation: 'vertical'
            padding: [20, 20]
            spacing: 10

            Label:
                text: "We created this app to ease traffic and make parking easier for everyone!"
                font_size: '20sp'
                color: 0, 0, 0, 1
                text_size: self.width, None
                halign: 'center'
                valign: 'middle'

            Label:
                text: "Contact info: parkvision@gmail.com"
                font_size: '20sp'
                color: 0, 0, 0, 1
                text_size: self.width, None
                halign: 'center'
                valign: 'middle'
    
            Button:
                text: "Go Back"
                font_size: '20sp'
                size_hint_y: None
                height: '50dp'
                background_normal: ''
                background_color: 0.1, 0.4, 0.7, 1
                color: 1, 1, 1, 1
                on_press: app.go_back()

<RegistrationPage>:
    name: "registration_page"

      # Enhanced Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.92, 0.96, 1, 1  # Lightest shade
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.87, 0.93, 1, 0.9
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.83, 0.91, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.79, 0.89, 1, 0.7
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.75, 0.87, 1, 0.6  # Slightly darker shade
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2
    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Widget:
            size_hint_y: 0.2

        Label:
            text: "Register"
            font_size: '32sp'
            bold: True
            color: 0, 0, 0, 1

        TextInput:
            id: email
            hint_text: "Email"
            multiline: False
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'

        TextInput:
            id: password
            hint_text: "Password"
            multiline: False
            password: True
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'

        Button:
            text: "Register"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: root.register_user(email.text, password.text)

        Button:
            text: "Go to Login"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: app.account_login()

        Button:
            text: "Go Back"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: app.go_back()

<LoginPage>:
    name: "login_page"

      # Enhanced Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.92, 0.96, 1, 1  # Lightest shade
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.87, 0.93, 1, 0.9
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.83, 0.91, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.79, 0.89, 1, 0.7
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.75, 0.87, 1, 0.6  # Slightly darker shade
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2
    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Widget:
            size_hint_y: 0.2

        Label:
            text: "Login"
            font_size: '32sp'
            bold: True
            color: 0, 0, 0, 1

        TextInput:
            id: email
            hint_text: "Email"
            multiline: False
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'

        TextInput:
            id: password
            hint_text: "Password"
            multiline: False
            password: True
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'

        Button:
            text: "Login"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: root.login_user(email.text, password.text)

        Button:
            text: "Go Back"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: app.register_redirect()
<ParkingOptionsPage>:
    name: "parking_options_page"

    # Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.92, 0.96, 1, 1
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.87, 0.93, 1, 0.9
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.83, 0.91, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.79, 0.89, 1, 0.7
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.75, 0.87, 1, 0.6
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2

    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Label:
            text: "Choose Parking Location"
            font_size: '28sp'
            bold: True
            color: 0, 0, 0, 1
        Button:
            text: "Profile"
            font_size: '20sp'
            background_normal: ''
            background_color: 0.2, 0.6, 0.9, 1
            size_hint_y: None
            height: '60dp'
            on_press: app.profile()  
        Button:
            text: "Parking 1"
            font_size: '20sp'
            background_normal: ''
            background_color: 0.2, 0.6, 0.9, 1
            size_hint_y: None
            height: '60dp'
            on_press: app.show_parking_detail1()  # Navigate to ParkingDetailPage

        Button:
            text: "Parking 2"
            font_size: '20sp'
            background_normal: ''
            background_color: 0.2, 0.6, 0.9, 1
            size_hint_y: None
            height: '60dp'
            on_press: app.show_parking_detail2()

        Button:
            text: "Parking 3"
            font_size: '20sp'
            background_normal: ''
            background_color: 0.2, 0.6, 0.9, 1
            size_hint_y: None
            height: '60dp'
            on_press: app.show_parking_detail3()  # Navigate to ParkingDetailPage
        Button:
            text: "Back"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: app.go_back()  # Navigates back to the list of parking lots
<Profile>:
    name: "profile"
    canvas.before:
        Color:
            rgba: 0.92, 0.96, 1, 1  # Lightest shade
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.87, 0.93, 1, 0.9
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.83, 0.91, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.79, 0.89, 1, 0.7
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.75, 0.87, 1, 0.6  # Slightly darker shade
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2

<ParkingDetailPage1>:
    name: "parking_detail_page1"

    # Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.92, 0.96, 1, 1
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.87, 0.93, 1, 0.9
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.83, 0.91, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.79, 0.89, 1, 0.7
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.75, 0.87, 1, 0.6
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2

    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Label:
            text: "Parking 1"
            font_size: '28sp'
            bold: True
            color: 0, 0, 0, 1
            halign: 'center'
            valign: 'middle'
            size_hint_y: None
            height: '60dp'

        # Parking Lot Layout
        BoxLayout:
            orientation: 'vertical'
            spacing: 10  # Increase spacing between rows

            # Row 1 (8 spaces)
            GridLayout:
                cols: 11
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                Button:
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Invisible placeholder
                    disabled: True
                Button:
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Invisible placeholder
                    disabled: True
                Button:
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Invisible placeholder
                    disabled: True
            
            Widget:
                size_hint_y: None
                height: 20  # Adjust as needed
            # Row 2 (11 spaces)
            GridLayout:
                cols: 11
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: False  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "11"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1


            # Row 3 (11 spaces)
            GridLayout:
                cols: 11
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "11"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1

            Widget:
                size_hint_y: None
                height: 20  # Adjust as needed
            # Row 4 (10 spaces)
            GridLayout:
                cols: 11
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                Button:
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Invisible placeholder
                    disabled: True

            # Row 5 (10 spaces)
            GridLayout:
                cols: 11
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                Button:
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Invisible placeholder
                    disabled: True

         # Back Button
        Button:
            text: "Back"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: app.find_parking()  # Ensure the screen name is correct
<ParkingDetailPage2>:
    name: "parking_detail_page2"

    # Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.92, 0.96, 1, 1
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.87, 0.93, 1, 0.9
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.83, 0.91, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.79, 0.89, 1, 0.7
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.75, 0.87, 1, 0.6
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2
    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Label:
            text: "Parking 2"
            font_size: '28sp'
            bold: True
            color: 0, 0, 0, 1
            halign: 'center'
            valign: 'middle'
            size_hint_y: None
            height: '60dp'

        # Parking Lot Layout
        BoxLayout:
            orientation: 'vertical'
            spacing: 10  # Increase spacing between rows

            GridLayout:
                cols: 12
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "11"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "12"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
            Widget:
                size_hint_y: None
                height: 20  # Adjust as needed
            # Row 2 (12 spaces)
            GridLayout:
                cols: 12
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "11"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "12"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
            # Row 3 (11 spaces)
            GridLayout:
                cols: 12
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "11"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                Button:
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Invisible placeholder
                    disabled: True
            Widget:
                size_hint_y: None
                height: 20  # Adjust as needed
            # Row 4 (11 spaces)
            GridLayout:
                cols: 12
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "10"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "11"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                Button:
                    background_normal: ''
                    background_color: 0, 0, 0, 0  # Invisible placeholder
                    disabled: True
             # Back Button
        Button:
            text: "Back"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: app.find_parking()  # Ensure the screen name is correct
<ParkingDetailPage3>:
    name: "parking_detail_page3"

    # Blue Gradient Background
    canvas.before:
        Color:
            rgba: 0.92, 0.96, 1, 1
        Rectangle:
            pos: self.pos
            size: self.width, self.height

        Color:
            rgba: 0.87, 0.93, 1, 0.9
        Rectangle:
            pos: self.x, self.y + self.height * 0.2
            size: self.width, self.height * 0.8

        Color:
            rgba: 0.83, 0.91, 1, 0.8
        Rectangle:
            pos: self.x, self.y + self.height * 0.4
            size: self.width, self.height * 0.6

        Color:
            rgba: 0.79, 0.89, 1, 0.7
        Rectangle:
            pos: self.x, self.y + self.height * 0.6
            size: self.width, self.height * 0.4

        Color:
            rgba: 0.75, 0.87, 1, 0.6
        Rectangle:
            pos: self.x, self.y + self.height * 0.8
            size: self.width, self.height * 0.2

    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Label:
            text: "Parking 3"
            font_size: '28sp'
            bold: True
            color: 0, 0, 0, 1
            halign: 'center'
            valign: 'middle'
            size_hint_y: None
            height: '60dp'

        # Parking Lot Layout
        BoxLayout:
            orientation: 'vertical'
            spacing: 10  # Increase spacing between rows

            GridLayout:
                cols: 9
                spacing: 10
                ParkingSpot:
                    text: "1"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "2"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "3"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "4"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "5"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "6"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "7"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "8"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
                ParkingSpot:
                    text: "9"
                    color: 0, 0, 0, 1
                    background_normal: ''
                    background_color: 0, 0, 0, 0
                    is_occupied: True  
                    on_kv_post: self.update_spot()
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1
            
            Widget:
                size_hint_y: None
                height: 300  # Adjust as needed

         # Back Button
        Button:
            text: "Back"
            font_size: '20sp'
            size_hint_y: None
            height: '50dp'
            background_normal: ''
            background_color: 0.1, 0.4, 0.7, 1
            color: 1, 1, 1, 1
            on_press: app.find_parking()  # Ensure the screen name is correct